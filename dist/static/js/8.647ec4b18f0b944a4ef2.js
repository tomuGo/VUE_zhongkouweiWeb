webpackJsonp([8],{"6m7U":function(s,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("4YfN"),t=a.n(r),o=a("Kkag"),i=a("9rMa"),d={name:"EditPassword",data:function(){return{oldPassword:"",newPassword:"",cobyNewPassword:""}},computed:t()({},Object(i.b)(["user"])),methods:{updatePassword:function(s){var e=this,a={userId:this.user.userId,oldPassword:this.oldPassword,newPassword:this.newPassword};this.$nextTick(function(){console.log(e.user.userId),s.target.canSubmit&&o.a.put("/api/users/updatePassword",a).then(function(s){200===s.status&&e.$router.push({path:"/"+e.user.userId})})})}}},l={render:function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"col-md-9 left-col"},[a("div",{staticClass:"panel panel-default padding-md"},[a("div",{staticClass:"panel-body"},[s._m(0),s._v(" "),a("hr"),s._v(" "),a("div",{staticClass:"form-horizontal",attrs:{"data-validator-form":""}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[s._v("原 密 码")]),s._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.oldPassword,expression:"oldPassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{regex:/^\w{3,16}$/,error:"密码要求 6 ~ 16 个单词字符"},expression:"{ regex: /^\\w{3,16}$/, error: '密码要求 6 ~ 16 个单词字符' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"请填写原密码"},domProps:{value:s.oldPassword},on:{input:function(e){e.target.composing||(s.oldPassword=e.target.value.trim())},blur:function(e){s.$forceUpdate()}}})])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[s._v("新 密 码")]),s._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.newPassword,expression:"newPassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{regex:/^\w{6,16}$/,error:"密码要求 6 ~ 16 个单词字符"},expression:"{ regex: /^\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{id:"newPassword",type:"password",placeholder:"填写新密码"},domProps:{value:s.newPassword},on:{input:function(e){e.target.composing||(s.newPassword=e.target.value.trim())},blur:function(e){s.$forceUpdate()}}})])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[s._v("确认新密码")]),s._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.cobyNewPassword,expression:"cobyNewPassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{title:"确认密码",target:"#newPassword"},expression:"{ title: '确认密码', target: '#newPassword' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"确认新密码"},domProps:{value:s.cobyNewPassword},on:{input:function(e){e.target.composing||(s.cobyNewPassword=e.target.value.trim())},blur:function(e){s.$forceUpdate()}}})])]),s._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-6"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:s.updatePassword}},[s._v("修改")])])])])])])])},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("h2",[e("i",{staticClass:"fa fa-lock"}),this._v(" 修改密码")])}]};var n=a("C7Lr")(d,l,!1,function(s){a("ldvL")},"data-v-4463d238",null);e.default=n.exports},ldvL:function(s,e){}});