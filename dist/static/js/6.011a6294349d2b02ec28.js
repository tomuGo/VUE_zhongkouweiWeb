webpackJsonp([6],{"0jH9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Kkag"),s=a("oFuF"),i={name:"Register",data:function(){return{username:"",email:"",password:"",cpassword:""}},methods:{register:function(e){var t=this;this.$nextTick(function(){("submit"===e.target.type?e.target:e.target.parentElement).canSubmit&&t.submit()})},submit:function(){var e=this,t={username:this.username,email:this.email,password:this.password};r.a.post("/api/register",t).then(function(t){200===t.status&&r.a.get("/api/login",{params:{account:e.username,password:e.password}}).then(function(t){Object(s.c)("token",t.headers.token),e.$store.dispatch("login",t.data)})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4 floating-box"},[a("div",{staticClass:"panel panel-default"},[e._m(0),e._v(" "),a("div",{staticClass:"panel-body",attrs:{"data-validator-form":""}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("用户名")]),a("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^[\w\u4e00-\u9fa5]+$/,error:"用户名只能由汉字/数字/字母/下划线/中划线组成"},expression:"{ regex: /^[\\w\\u4e00-\\u9fa5]+$/, error: '用户名只能由汉字/数字/字母/下划线/中划线组成' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"请填写用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("邮箱（用于找回密码）")]),a("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,error:"邮箱不符合格式"},expression:"{ regex: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, error: '邮箱不符合格式' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("密码")]),a("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{regex:/^\w{6,16}$/,error:"密码要求 6 ~ 16 个单词字符"},expression:"{ regex: /^\\w{6,16}$/, error: '密码要求 6 ~ 16 个单词字符' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"请填写密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label"},[e._v("确认密码")]),a("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.cpassword,expression:"cpassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator.required",value:{target:"#password"},expression:"{ target: '#password' }",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"password",placeholder:"请填写确认密码"},domProps:{value:e.cpassword},on:{input:function(t){t.target.composing||(e.cpassword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),a("button",{staticClass:"btn btn-lg btn-success btn-block",attrs:{type:"submit"},on:{click:e.register}},[a("i",{staticClass:"fa fa-btn fa-sign-in"}),e._v(" 注册\n        ")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"panel-heading"},[t("h3",{staticClass:"panel-title"},[this._v("请注册")])])}]};var n=a("C7Lr")(i,o,!1,function(e){a("YsGq")},"data-v-50a54223",null);t.default=n.exports},YsGq:function(e,t){}});