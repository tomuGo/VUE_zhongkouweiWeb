webpackJsonp([5],{"1lE9":function(t,e){},Plmk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("4YfN"),s=a.n(r),o=a("Kkag"),i=a("9rMa"),n={name:"EditProfile",data:function(){return{userInfo:""}},computed:s()({},Object(i.b)(["user"])),created:function(){this.userInfo=this.user},methods:{updateUserInfo:function(t){var e=this;this.$nextTick(function(){t.target.canSubmit&&e.user.userId&&o.a.put("/api/users/"+e.user.userId,e.userInfo).then(function(t){200===t.status&&e.$router.push({path:"/"+e.user.userId})})})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-9 left-col"},[a("div",{staticClass:"panel panel-default padding-md"},[a("div",{staticClass:"panel-body"},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-horizontal",attrs:{"data-validator-form":"",data:t.user}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("用户名")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.username,expression:"userInfo.username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{title:"用户名",regex:/^[\w\u4e00-\u9fa5]+$/,error:"用户名只能由汉字/数字/字母/下划线/中划线组成"},expression:"{ title: '用户名', regex: /^[\\w\\u4e00-\\u9fa5]+$/, error: '用户名只能由汉字/数字/字母/下划线/中划线组成' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.userInfo.username},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"username",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("邮箱（用于找回密码）")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.email,expression:"userInfo.email",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input",value:{regex:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,error:"邮箱不符合格式"},expression:"{ regex: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, error: '邮箱不符合格式' }",arg:"input"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.userInfo.email},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"email",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("性别")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.sex,expression:"userInfo.sex"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.userInfo,"sex",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("未选择")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("男")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("女")])])])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[t._v("个人简介")]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.userInfo.introduction,expression:"userInfo.introduction",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.userInfo.introduction},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"introduction",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-2 col-sm-6"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.updateUserInfo}},[t._v("修改")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("i",{staticClass:"fa fa-cog"}),this._v(" 编辑个人资料")])}]};var u=a("C7Lr")(n,l,!1,function(t){a("1lE9")},"data-v-539245da",null);e.default=u.exports}});